# API configuration
POLYGON_API_KEY=TEwsmbCFGd8dDANW3EY3IjmIohcLMrqj
POLYGON_BASE_URL=https://api.massive.com
SYMBOLS=BVC,TMDE,VRME,INBS,MNTS,UFG,PASG,SLAI,RGC,JCSE
POLYGON_SNAPSHOT_PATH=/v2/snapshot/locale/us/markets/stocks/tickers/
POLYGON_WS_URL=wss://delayed.massive.com/stocks
# Fetch interval in seconds
FETCH_INTERVAL=1
FAKE_TICKS=false

# Historical data file name (used when FAKE_TICKS=true)
# Specify filename only - it will be loaded from data/ directory
# Examples: 
#   historical_data.json (default - main trading dataset)
#   historical_data_1.json (yesterday's session)
#   historical_data_backup.json (backup)
# To switch datasets: just change this value and restart services
HISTORICAL_DATA_FILE=historical_data.json

# Opening range strategy - minutes to use for fixed window (1 min for testing, 5 min medium, 30 min for production)
OPENING_RANGE_MINUTES=10
USE_OPENING_RANGE=true
# Day gainer fetch platform: POLYGON or YAHOO
DAY_GAINER_FETCH_PLATFORM=YAHOO,POLYGON
MAX_SYMBOLS=4

# Yahoo Finance screener type (when using YAHOO platform):
# - day_gainers: Top % gainers today (default)
# - most_active: Highest trading volume
# - most_watched: Most momentum/social trending
# - day_losers: Top % losers (contrarian trades)
YAHOO_SCREENER_TYPE=day_gainers

# Auto-update symbols from gainers on restart (true/false)
AUTO_UPDATE_SYMBOLS_FROM_GAINERS=true

# Validate gainers with Polygon API before adding (YAHOO only)
VALIDATE_GAINERS_WITH_POLYGON=true

# Trading configuration
ALLOW_SELL_POSITIONS=false

# Range-based strategy configuration
# Range-based strategy configuration
RANGE_LOOKBACK_MAX_MINUTES=50
RANGE_LOOKBACK_MIN_MINUTES=10
RANGE_ENTRY_ZONE_PCT=0.30
RANGE_EXIT_ZONE_PCT=0.80
# Opening range validity duration (how long range stays locked before resetting if no position)
RANGE_VALID_DURATION_MINUTES=10

# Time-Decay Exit Strategy (unlocks capital from stalled trades)
# Format: "minutes:profit_pct,minutes:profit_pct,..." 
# Example: "15:3,30:2,45:1,60:0.5" means:
#   - At 15 min: close if +3% profit
#   - At 30 min: close if +2% profit
#   - At 45 min: close if +1% profit
#   - At 60+ min: close if +0.5% profit
TIME_DECAY_EXITS=2:3,5:2,10:1,15:0.5

# ============================================================================
# ENTRY CONFIRMATION SYSTEM - Smart Entry with Support Confirmation
# ============================================================================
# When price touches lower range, wait for bounce confirmation before entering
# This filters out "falling knife" entries while preserving capital

# Enable/disable the entry confirmation system (true/false)
ENTRY_CONFIRMATION_ENABLED=true

# Confidence threshold for entry (0.0 to 1.0, where 1.0 = 100%)
# Only enter if final confidence >= this threshold
# Recommended: 0.65 (65%) for good risk/reward balance
ENTRY_CONFIDENCE_THRESHOLD=0.50

# Low confidence threshold (0.0 to 1.0)
# Entries with confidence below this are rejected completely (no second chance)
# Range: 0.50-0.60. Recommended: 0.50 (give most entries a second chance)
ENTRY_LOW_CONFIDENCE_THRESHOLD=0.20

# Bounce threshold for re-evaluation (0.0 to 1.0, as percentage)
# After rejection, if price bounces this much from rejection price, re-evaluate entry
# Example: 0.005 = 0.5%, if rejected at $274.41, re-evaluate if price reaches $274.55+
# Recommended: 0.003-0.005 (0.3-0.5%)
ENTRY_BOUNCE_THRESHOLD=0.005

# Maximum ticks to wait for bounce before giving up on rejected entry (safety limit)
# If price doesn't bounce within this many ticks, forget the entry
# Recommended: 20-30 ticks (20-30 seconds)
ENTRY_BOUNCE_TIMEOUT_TICKS=10

# Minimum ticks to wait for confirmation (stable markets)
ENTRY_CONFIRMATION_TICKS_MIN=5

# Maximum ticks to wait for confirmation (volatile markets)
ENTRY_CONFIRMATION_TICKS_MAX=7

# Optional: WebSocket server settings
WS_HOST=localhost
WS_PORT=8765
WS_URL=ws://localhost:8765

# ============================================================================
# TRADING212 API CONFIGURATION
# ============================================================================
TRADING212_API_KEY=36238492ZLpXnCOliQcGMgLfKofQCqmPisddK
TRADING212_API_SECRET=amHA7XXhWzNokzaLf9I3RhaxiGiASZSvT3GESqEc1mc
TRADING212_DEMO_API_KEY=39265827ZWxTXRWYysJmaaIuPrZiROcOfBAIH
TRADING212_DEMO_API_SECRET=2-Anye9X4yIJj0MVAJnKTRL0g6zoiBj484WAxoPJpao
TRADING212_DEMO_ENVIRONMENT=https://demo.trading212.com/api/v0
TRADING212_LIVE_ENVIRONMENT=https://live.trading212.com/api/v0
TRADING212_ACCOUNT_CURRENCY=EUR
LIVE=false
MOCK_PORTFOLIO=false
MOCK_PORTFOLIO_CASH=5000